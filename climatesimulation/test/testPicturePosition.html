
<!DOCTYPE html>
<html>
<head>
<title>cannon.js - callbacks demo</title>
<meta charset="utf-8">

<meta name="viewport"
	content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
<script src="assets/cannon.js"></script>
<script src="assets/cannon.demo.js"></script>
<script src="assets/dat.gui.js"></script>
<script src="assets/Three.js"></script>
<script src="assets/TrackballControls.js"></script>
<script src="assets/Detector.js"></script>
<script src="assets/Stats.js"></script>
<script src="assets/smoothie.js"></script>
<script src="intermediate.js"></script>
</head>
<body>



	<canvas id="earthCanvas"></canvas>
	<script>
    
    pData = []
    radius = 10
	for(c = 0; c < intermediate.length; c++){
        var a = intermediate[c][0];
        var b = intermediate[c][1];
        var colors = intermediate[c][2];
        
        
		x = Math.cos(a) * Math.cos(b) * radius;
		y = Math.cos(a) * Math.sin(b) * radius;
		z = Math.sin(a) * radius;
		
		
		pData.push([x,y,z,colors])
	}  
	
	var demo = new CANNON.Demo();

demo.addScene("Moon", function() {
	world = demo.getWorld();
	// world.broadphase = new CANNON.SAPBroadphase();
	world.solver.iterations = 1;
	world.allowSleep = true;
	// world.allowSleep = false;


	pCount = 0;
	interval = setInterval(function() {
		if(pCount >= pData.length){
			clearInterval(interval)
			return;	
		}
		
		var cD = pData[pCount];
		var pShape = new CANNON.Sphere(0.1);
		var p = new CANNON.Body({
			mass : 5
		});
		p.addShape(pShape);
	
		p.position.set(cD[0], cD[1], cD[2]);
		colorD = 0x010000 * cD[3][0]+0x000100 * cD[3][1]+0x000001 * cD[3][2]
		p.linearDamping = 0.0;
		world.add(p);
		demo.addVisual(p, new THREE.MeshLambertMaterial({
			color : colorD
		}));
		console.log(cD[0]+" "+ cD[1]+" "+ cD[2])
		console.log(colorD)
		pCount++;
	}, 30);


});

demo.start();
	
	
	
	
	

  
    	//
    	
		//group by Y axis
		//make sun rotate around x axis (if it doesn't)
		//show Y axis correlation


    </script>
</body>
</html>
